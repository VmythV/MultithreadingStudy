# 基本概念
#### 并发与并行
并发：指两个或多个事件在同一个时间段内发生。

并行：指两个或多个事件在同一时刻发生（同时发生）。


# JMM的三个特征
#### 可见性
在Java中，不同线程拥有各自的私有工作内存，当线程需要修改某个变量时，不能直接去操作主内存中的变量，而是需要将这个变量读取到该线程的工作内存（变量副本），
当该线程修改其变量副本后，其他线程并不能理科读取到新值，需要将修改后的值刷新到主内存中，其他线程才能从主内存中读取到修改后的值。

原因：工作内存和主内存存在同步延迟

解决方法：
- volatile：可以保证内存可见性
    - 规定线程每次修改变量副本后`立即同步到主内存中`
    - 规定线程每次使用变量前，先从`主内存中拷贝最新的值`到工作内存中，用于保证能看见其他线程对变量修改的最新值
- synchronize：同步锁
- Lock锁
#### 有序性
在单线程程序中代码逐行执行，但是在多线程并发时，程序的执行就有可能出现乱序

多线程执行程序时，为了提高性能，编译器和处理器常常会自动对指令做重排序，目的是进行相关的优化，指令重排序使得代码在多线程执行时可能会出现一些问题。

解决方案：
- volatile：可以保证有序性。在指令序列中插入`内存屏障（一组处理器指令）`，防止指令重排序
- synchronize：同步锁
- Lock锁
#### 原子性
原子性指一个操作是不可中断的。即使是在多个线程一起执行的时候，一个线程的操作一旦开始，就不会被其他线程干扰，只能当前线程执行完，其他线程才可以执行
解决方案：
- synchronize：同步锁
- CAS
- Lock锁